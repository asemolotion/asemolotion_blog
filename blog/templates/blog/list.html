{% extends '_base.html' %}


{% block content %}
<div class='mt-3'>
    <section id='title'>
        <h5 class='text-secondary'>記事一覧</h5>    
        
        <!-- リンクのナビゲーション -->
        <ul class='nav justify-content-end'>
            <li class='nav-item'><a href="#" class='nav-link'>全ての記事</a></li>
            <li class='nav-item'><a href="#" class='nav-link' 
                title='読み物としての記事'>Article</a></li>
            <li class='nav-item'><a href="#" class='nav-link'
                title='プログラムに関する要約記事'>ShortCode</a></li>
        </ul>
    </section>
</div>

<div class='row'>

    <div class='col-md-9'>
        <section id='bloglist'>
        {% for object in object_list %}
            
        <div class='rounded border border-warning my-3'>
            <div class='row'>
                <!-- 左側のメインの部分 -->
                <div class='col-9'>
                    <div class='my-3 px-3 py-3'>
                        <span>{{ object.project.name }}</span>
                        <h5>
                            <a href="{% url 'blog:detail' object.pk %}">{{ object.title }}</a>
                        </h5>
                        
                        
                        {% if object.description %}
                        <p><small>{{ object.description }}</small></p>
                        {% endif %}
                            

            
                        {% for tag in object.tags.all %}
                        <span class='badge badge-pill badge-info font-weight-light'>{{ tag.name }}</span>    
                        {% endfor %}                 
                    </div>
                </div>
                <!-- 右側のラベルなど -->
                <div class='col-3'>
                    <!-- LIMITEDの場合、LIMITEDタグをつける -->
                    {% if object.get_release_condition_display == 'LIMITED' %}
                    <h5 class='float-right'><span class='badge badge-danger font-weight-light'>{{ object.get_release_condition_display }}</span></h5>
                    {% endif %}

                    <div class='my-3 px-3 py-3'>
                        
                        <!-- 下書きのもののみ目印をつける。自分用。 -->
                        {% if object.get_status_display == '下書き' %}
                        <p><span class='badge badge-secondary font-weight-light'>{{ object.get_status_display }}</span></p>
                        {% endif %}
                            
                        <!-- Articleは青、ShortCodeは黄色にする -->
                        {% if object.get_post_type_display == 'Article' %}
                        <h5><span class='badge badge-primary font-weight-light'>{{ object.get_post_type_display }}</span></h5>        
                        {% else %}
                        <h5><span class='badge badge-warning font-weight-light'>{{ object.get_post_type_display }}</span></h5>
                        {% endif %}
                                
                    </div>
                </div>
            </div>
        </div>

        {% endfor %}
            
        </section>
    </div>


    <div class='col-md-3'>

        <section id='menu'>
            <!-- プロジェクトのリスト -->
            <div class='list-group my-3'>
                <li class="list-group-item list-group-item-secondary">Projects</li>
                {% for project in project_list %}
                <a href="#" class='list-group-item list-group-item-action'>{{ project.name }}</a>    
                {% endfor %}
                <a href="#" class='list-group-item list-group-item-action'> &gt;&gt;&gt; 全てのプロジェクトをみる</a>    
            </div>

            <!-- タグのリスト -->
            <div class='list-group my-3'>
                <li class="list-group-item list-group-item-secondary">Tags</li>
                <li class='list-group-item'>

                    <h5>
                        {% for tag in tag_list %}
                        <span class='badge badge-pill badge-info font-weight-light'>{{ tag.name }}</span>
                        {% endfor %}
                    </h5>
                    
                    <!-- <a href="#" class='list-group-item list-group-item-action'>{{ tag.name }}</a>     -->
                </li>
                <a href="#" class='list-group-item list-group-item-action'> &gt;&gt;&gt; 全てのタグをみる</a>    
            </div>
        </section>
    </div>

</div>

{% endblock content %}
    